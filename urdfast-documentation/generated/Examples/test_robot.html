<!doctype html><html lang="en"><head><meta charset="utf-8"><title>URDFast Documentation - test_robot.py</title><meta name="author" content="Docapy"><link rel="stylesheet" href="../../style.css"></head><body><div class="navbar"><a href="../../index.html" class="titla"><span class="title"><span class="blue">URDFast</span> Documentation</span></a><span class="links"><a href="https://github.com/Teskann/URDFast">View Github</a><a href="https://github.com/Teskann/Docapy">About Docapy</a></span></div><h1>test_robot.py</h1><div class="sideMenu"><span class="browse">Browse Project Files</span><a href="../../code_generator.html" class="menua">code_generator.py</a><a href="../../code_optimization.html" class="menua">code_optimization.py</a><a href="../../createRobotFromURFD.html" class="menua">createRobotFromURFD.py</a><a href="../../docapy.html" class="menua">docapy.py</a><a href="../../edit_and_run_me.html" class="menua">edit_and_run_me.py</a><a href="../../Language.html" class="menua">Language.py</a><a href="../../polynomial_trajectory.html" class="menua">polynomial_trajectory.py</a><a href="../../URDF.html" class="menua">URDF.py</a><a href="../../urdfast.html" class="menua">urdfast.py</a><details class="menuDetails"><summary class="menuSummary">generated</summary><details class="menuDetails"><summary class="menuSummary">Examples</summary><span class="blue"><a href="../../generated/Examples/test_robot.html" class="menua">test_robot.py</a></span></details></details><details class="menuDetails"><summary class="menuSummary">GUI</summary><a href="../../GUI/info_dialog.html" class="menua">info_dialog.py</a><a href="../../GUI/main_gui.html" class="menua">main_gui.py</a><a href="../../GUI/main_window.html" class="menua">main_window.py</a><a href="../../GUI/source_rc.html" class="menua">source_rc.py</a><details class="menuDetails"><summary class="menuSummary">Images</summary><a href="../../GUI/Images/source_rc.html" class="menua">source_rc.py</a></details></details></div><div class="content"><h2>File Description</h2><br> The  code  in  file has been generated by URDFast Code Generator on 10/18/2020, <b>17</b>:57:38. Consider testing this code before using it as errors remain possible. For  more  details,  check  out  the  github  repository  of  this  projets  at <a href="https://github.com/Teskann/URDFast">https://github.com/Teskann/URDFast</a>.<br><h2>Imports</h2></ul><h3>Standard Packages</h3><ul><li><a href="https://docs.python.org/3/library/math.html" class="import">math</a></li></ul><h3>External Packages</h3><ul><li><a href="https://pypi.org/project/numpy" class="import">numpy</a></li></ul>If you don't have them, you can install these packages running <a href="https://pypi.org/project/pip/">pip</a> :<br><div class="code">$ <span class="blue">pip</span> install numpy<br></div><h2>Functions & Classes</h2><details><summary><span class="def">def</span> <span class="blue">T_joint1</span>(theta_joint1)</summary><h3>Description</h3> Transition Matrix to go from link link1 to link link2. <b>This joint is continuous. The matrix is </b>:<br> [    -0.5*cos(theta_joint1) - 0.5          0.5*cos(theta_joint1) - 0.5 [ [    0.5*cos(theta_joint1) - 0.5          -0.5*cos(theta_joint1) - 0.5 [ [-0.707106781186547*sin(theta_joint1)  0.707106781186547*sin(theta_joint1 [ [                 0                                     0<br> -0.707106781186694*sin(theta_joint1)  0]<div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"> ]</div></div></div></div></div></div></div></div></div></div> 0.707106781186401*sin(theta_joint1)   1]<div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"> ]</div></div></div></div></div></div></div></div></div></div> )           cos(theta_joint1)            0]<div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"> ]</div></div></div></div></div> 0                    1]<br></div></div></div></div></div><h3>Parameters</h3> <b>theta_joint1 </b>: float<div class="indent"> Rotation value (in radians) around the joint1 joint axis.<br></div></details><details><summary><span class="def">def</span> <span class="blue">T_joint2</span>(theta_joint2)</summary><h3>Description</h3> Transition Matrix to go from link link1 to link link3. <b>This joint is continuous. The matrix is </b>:<br> [1          0                  0           0] [                                           ] [0  cos(theta_joint2)  -sin(theta_joint2)  0] [                                           ] [0  sin(theta_joint2)  cos(theta_joint2)   0] [                                           ] [0          0                  0           1]<br><h3>Parameters</h3> <b>theta_joint2 </b>: float<div class="indent"> Rotation value (in radians) around the joint2 joint axis.<br></div></details><details><summary><span class="def">def</span> <span class="blue">T_joint3</span>(theta_joint3)</summary><h3>Description</h3> Transition Matrix to go from link link3 to link link4. <b>This joint is continuous. The matrix is </b>:<br> [1          0                  0           0] [                                           ] [0  cos(theta_joint3)  -sin(theta_joint3)  0] [                                           ] [0  sin(theta_joint3)  cos(theta_joint3)   0] [                                           ] [0          0                  0           1]<br><h3>Parameters</h3> <b>theta_joint3 </b>: float<div class="indent"> Rotation value (in radians) around the joint3 joint axis.<br></div></details><details><summary><span class="def">def</span> <span class="blue">T_joint1_inv</span>(theta_joint1)</summary><h3>Description</h3> Transition Matrix to go from link link2 to link link1. <b>This joint is continuous. The matrix is </b>:<br> [         2                          3 [0.375*sin (theta_joint1) - 0.125*cos (theta_joint1) - 0.375*cos(theta_jo [------------------------------------------------------------------------ [                        2 [              - 0.25*sin (theta_joint1) + 0.5*cos(theta_joint1) + 0.5 [ [                                     2 [                             -0.5*sin (theta_joint1) [                             ------------------------ [                             cos(theta_joint1) + 1.0 [ [                       -0.707106781186547*sin(theta_joint1) [ [                                         0<br><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"> /                    2</div></div></div></div></div></div></div></div></div></div></div></div> int1) - 0.5                                       \0.17677669529671*sin ( -----------      0.5*cos(theta_joint1) - 0.5      -----------------------<br><br><br><br><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"> 2.0*(0.</div></div></div></div></div></div></div></div></div></div></div></div> -0.5*cos(theta_joint1) - 0.5                      -------<br><br></div> 0.707106781186547*sin(theta_joint1)<br><div class="indent"><div class="indent"><div class="indent"><div class="indent"> 0<br><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"> \</div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><h3>theta_joint1) - 0.35355339059331*cos(theta_joint1) - 0.353553390593347/*s</h3><div class="indent"><div class="indent"><div class="indent"> 2</div></div><ul><li> 0.25*sin (theta_joint1) + 0.5*cos(theta_joint1) + 0.5</li></ul><br><br></div><h3>353553390593201*cos(theta_joint1) + 0.353553390593274)*sin(theta_joint1)</h3><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"> cos(theta_joint1) + 1.0<br><div class="indent"> cos(theta_joint1)<br><div class="indent"><div class="indent"> 0<br><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"> ]</div></div></div></div></div></div></div></div></div></div></div></div></div> in(theta_joint1)                                      ] ----------------      0.5 - 0.5*cos(theta_joint1)     ]<div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"> ] ] ] ] ]</div></div></div></div></div></div></div></div> 0.5*cos(theta_joint1) + 0.5     ]<div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"> ] ]</div></div></div></div></div></div></div></div></div> -0.707106781186547*sin(theta_joint1)]<div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"><div class="indent"> ]</div></div></div></div></div> 1.0                 ]<br><br></div></div></div></div></div></div></div></div><h3>Parameters</h3> <b>theta_joint1 </b>: float<div class="indent"> Rotation value (in radians) around the joint1 joint axis.<br></div></details><details><summary><span class="def">def</span> <span class="blue">T_joint2_inv</span>(theta_joint2)</summary><h3>Description</h3> Transition Matrix to go from link link3 to link link1. <b>This joint is continuous. The matrix is </b>:<br> [1.0          0                   0           0 ] [                                               ] [ 0   cos(theta_joint2)   sin(theta_joint2)   0 ] [                                               ] [ 0   -sin(theta_joint2)  cos(theta_joint2)   0 ] [                                               ] [ 0           0                   0          1.0]<br><br><h3>Parameters</h3> <b>theta_joint2 </b>: float<div class="indent"> Rotation value (in radians) around the joint2 joint axis.<br></div></details><details><summary><span class="def">def</span> <span class="blue">T_joint3_inv</span>(theta_joint3)</summary><h3>Description</h3> Transition Matrix to go from link link4 to link link3. <b>This joint is continuous. The matrix is </b>:<br> [1.0          0                   0           0 ] [                                               ] [ 0   cos(theta_joint3)   sin(theta_joint3)   0 ] [                                               ] [ 0   -sin(theta_joint3)  cos(theta_joint3)   0 ] [                                               ] [ 0           0                   0          1.0]<br><br><h3>Parameters</h3> <b>theta_joint3 </b>: float<div class="indent"> Rotation value (in radians) around the joint3 joint axis.<br></div></details><details><summary><span class="def">def</span> <span class="blue">fk_link1_link2</span>(q)</summary><h3>Description</h3> Comuputes the forward kinematics from the link link1 to the link link2. The result is returned as a 4x4 numpy.ndarray in homogeneous coordinates.<br><h3>Parameters</h3> <b>q </b>: numpy.ndarray<div class="indent"> <b>Vector of variables where </b>:<div class="indent"><ul><li> <b>q[0] = theta_joint1 </b>:<div class="indent"> Rotation value (in radians) around the joint1 joint axis.</div></li></ul><br></div></div></details><details><summary><span class="def">def</span> <span class="blue">fk_link1_link4</span>(q)</summary><h3>Description</h3> Comuputes the forward kinematics from the link link1 to the link link4. The result is returned as a 4x4 numpy.ndarray in homogeneous coordinates.<br><h3>Parameters</h3> <b>q </b>: numpy.ndarray<div class="indent"> <b>Vector of variables where </b>:<div class="indent"><ul><li> <b>q[0] = theta_joint2 </b>:<div class="indent"> Rotation value (in radians) around the joint2 joint axis.</div></li><li> <b>q[1] = theta_joint3 </b>:<div class="indent"> Rotation value (in radians) around the joint3 joint axis.</div></li></ul><br></div></div></details><details><summary><span class="def">def</span> <span class="blue">jacobian_link1_to_link2</span>(p0, q)</summary><h3>Description</h3> Computes  the  Jacobian  Matrix of the link2 coordinates in the link1 frame from  the point p0. This matrix is returned as a (6 x 1) matrix where every column  is  the  derivative  of  the position/orientation with respect to a degree of freedom.<div class="indent"><ul><li>  The  line  1 is the derivative of X position of link2 in the link1 frame,</li><li>  The  line  2 is the derivative of Y position of link2 in the link1 frame,</li><li>  The  line  3 is the derivative of Z position of link2 in the link1 frame,</li><li>  The  line  4 is the derivative of the roll orientation of link2 in the link1 frame,</li><li>  The  line 5 is the derivative of the pitch orientation of link2 in the link1 frame,</li><li> The line 6 is the derivative of the yaw orientation of link2 in the link1 frame,</li></ul></div> <b>Here is the list of all the derivative variables </b>:<div class="indent"><ul><li> <b>Column 0 </b>: theta_joint1</li></ul><br></div><h3>Parameters</h3> <b>p0 </b>: numpy.ndarray<div class="indent"> Point in the link1 frame where you want to compute the Jacobian Matrix. p0 is a (3 x 1) vector.<br></div> <b>q </b>: numpy.ndarray<div class="indent"> Vector  of  length 1 containing all the degrees of freedom of the robot <b>between link1 and link2 chain. This vector contains </b>:<div class="indent"><ul><li> <b>q[0] = theta_joint1 </b>:<div class="indent"> Rotation value (in radians) around the joint1 joint axis.</div></li></ul><br></div></div></details><details><summary><span class="def">def</span> <span class="blue">jacobian_link1_to_link4</span>(p0, q)</summary><h3>Description</h3> Computes  the  Jacobian  Matrix of the link4 coordinates in the link1 frame from  the point p0. This matrix is returned as a (6 x 2) matrix where every column  is  the  derivative  of  the position/orientation with respect to a degree of freedom.<div class="indent"><ul><li>  The  line  1 is the derivative of X position of link4 in the link1 frame,</li><li>  The  line  2 is the derivative of Y position of link4 in the link1 frame,</li><li>  The  line  3 is the derivative of Z position of link4 in the link1 frame,</li><li>  The  line  4 is the derivative of the roll orientation of link4 in the link1 frame,</li><li>  The  line 5 is the derivative of the pitch orientation of link4 in the link1 frame,</li><li> The line 6 is the derivative of the yaw orientation of link4 in the link1 frame,</li></ul></div> <b>Here is the list of all the derivative variables </b>:<div class="indent"><ul><li> <b>Column 0 </b>: theta_joint2</li><li> <b>Column 1 </b>: theta_joint3</li></ul><br></div><h3>Parameters</h3> <b>p0 </b>: numpy.ndarray<div class="indent"> Point in the link1 frame where you want to compute the Jacobian Matrix. p0 is a (3 x 1) vector.<br></div> <b>q </b>: numpy.ndarray<div class="indent"> Vector  of  length 2 containing all the degrees of freedom of the robot <b>between link1 and link4 chain. This vector contains </b>:<div class="indent"><ul><li> <b>q[0] = theta_joint2 </b>:<div class="indent"> Rotation value (in radians) around the joint2 joint axis.</div></li><li> <b>q[1] = theta_joint3 </b>:<div class="indent"> Rotation value (in radians) around the joint3 joint axis.</div></li></ul><br></div></div></details><details><summary><span class="def">def</span> <span class="blue">com</span>(q)</summary><h3>Description</h3> Returns  the center of mass of the robot in the root link frame. The center of  mass of the whole structure is computed. The result is returned as a (4 x  1) numpy.ndarray in homogeneous coordinates. The first three coordinates represent  the  X,  Y  and Z positions of the CoM and the 4th coordinate is always equal to 1<br><h3>Parameters</h3> <b>q </b>: numpy.ndarray<div class="indent"> Vector  of  length 3 containing all the degrees of freedom of the robot that  have  an  effect  on  the  center  of  mass position. This vector <b>contains </b>:<div class="indent"><ul><li> <b>q[0] = theta_joint1 </b>:<div class="indent"> Rotation value (in radians) around the joint1 joint axis.</div></li><li> <b>q[1] = theta_joint2 </b>:<div class="indent"> Rotation value (in radians) around the joint2 joint axis.</div></li><li> <b>q[2] = theta_joint3 </b>:<div class="indent"> Rotation value (in radians) around the joint3 joint axis.</div></li></ul><br></div></div></details><details><summary><span class="def">def</span> <span class="blue">jacobian_com</span>(com0, q)</summary><h3>Description</h3> Returns  the  Jacobian  of  the center of mass of the robot. This matrix is returned  as  a  (3 x 4) matrix where every column is the derivative of the position  of  the CoM (X, Y and Z) with respect to a degree of freedom. The result  is expressed in the root link frame. - The line 1 is the derivative of X position of the center of mass in the world frame,<div class="indent"><ul><li> The line 2 is the derivative of Y position of the center of mass in the world frame,</li><li> The line 3 is the derivative of Z position of the center of mass in the world frame,</li><li>  The line 4 is the derivative of the roll orientation of the center of mass in the world frame,</li><li> The line 5 is the derivative of the pitch orientation of the center of mass in the world frame,</li><li>  The  line 6 is the derivative of the yaw orientation of the center of mass in the world frame,</li></ul></div> <b>Here is the list of all the derivative variables </b>:<div class="indent"><ul><li> <b>Column 0 </b>: theta_joint1</li><li> <b>Column 1 </b>: theta_joint2</li><li> <b>Column 2 </b>: theta_joint3</li></ul><br></div><h3>Parameters</h3> <b>com0 </b>: numpy.ndarray<div class="indent"> Point  from  which  you  want  to compute the Jacobian of the center of Mass.  This  point is expressed in homogeneous coordinates as a (4 x 1) numpy.ndarray.  The  first  three  coordinates represent the X, Y and Z positions of the CoM and the 4th coordinate must always be equal to 1<br></div> <b>q </b>: numpy.ndarray<div class="indent"> Vector  of  all the degrees of freedom of the robot that have an effect <b>on the center of mass position. This vector contains </b>:<div class="indent"><ul><li> <b>q[0] = theta_joint1 </b>:<div class="indent"> Rotation value (in radians) around the joint1 joint axis.</div></li><li> <b>q[1] = theta_joint2 </b>:<div class="indent"> Rotation value (in radians) around the joint2 joint axis.</div></li><li> <b>q[2] = theta_joint3 </b>:<div class="indent"> Rotation value (in radians) around the joint3 joint axis.</div></li></ul><br></div></div></details></details></div></body></html>