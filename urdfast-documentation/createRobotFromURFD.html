<!doctype html><html lang="en"><head><meta charset="utf-8"><title>URDFast Documentation - createRobotFromURFD.py</title><meta name="author" content="Docapy"><link rel="stylesheet" href="style.css"></head><body><div class="navbar"><a href="index.html" class="titla"><span class="title"><span class="blue">URDFast</span> Documentation</span></a><span class="links"><a href="https://github.com/Teskann/URDFast">View Github</a><a href="https://github.com/Teskann/Docapy">About Docapy</a></span></div><h1>createRobotFromURFD.py</h1><div class="sideMenu"><span class="browse">Browse Project Files</span><a href="code_generator.html" class="menua">code_generator.py</a><a href="code_optimization.html" class="menua">code_optimization.py</a><span class="blue"><a href="createRobotFromURFD.html" class="menua">createRobotFromURFD.py</a></span><a href="Language.html" class="menua">Language.py</a><a href="URDF.html" class="menua">URDF.py</a><a href="urdfast.html" class="menua">urdfast.py</a><details class="menuDetails"><summary class="menuSummary">generated</summary><details class="menuDetails"><summary class="menuSummary">Examples</summary><a href="generated/Examples/test_robot.html" class="menua">test_robot.py</a></details></details><details class="menuDetails"><summary class="menuSummary">GUI</summary><a href="GUI/info_dialog.html" class="menua">info_dialog.py</a><a href="GUI/main_gui.html" class="menua">main_gui.py</a><a href="GUI/main_window.html" class="menua">main_window.py</a><a href="GUI/source_rc.html" class="menua">source_rc.py</a><details class="menuDetails"><summary class="menuSummary">Images</summary><a href="GUI/Images/source_rc.html" class="menua">source_rc.py</a></details></details></div><div class="content"><h2>File Description</h2> <b>Created on Mon Jun  8 18</b>:23:08 2020<br> <b>@author</b>: Cl√©ment<h2>Imports</h2><h3>From This Project</h3><ul><li><a href="./URDF.html" class="import">URDF</a></li></ul></ul><h3>External Packages</h3><ul><li><a href="https://pypi.org/project/numpy" class="import">numpy</a></li><li><a href="https://pypi.org/project/sympy" class="import">sympy</a></li><li><a href="https://pypi.org/project/anytree" class="import">anytree</a></li></ul>If you don't have them, you can install these packages running <a href="https://pypi.org/project/pip/">pip</a> :<br><div class="code">$ <span class="blue">pip</span> install numpy<br></div><div class="code">$ <span class="blue">pip</span> install sympy<br></div><div class="code">$ <span class="blue">pip</span> install anytree<br></div><h2>Functions & Classes</h2><details><summary><span class="def">class</span> <span class="blue">Link</span></summary><h3>Description</h3> Link Class.<br> This class describes link  objects.  These objects represent URDF link elements. This class is used inside the Robot class (see below). The  link  element  describes  a  rigid  body  with an inertia, visual features, and collision properties.<br> For the moment,  this  class  only deals with the &lt;inertial&gt; elements. &lt;visual&gt;  and  &lt;collision&gt;  elements could be useful for visualization and simulation purposes, which are not the goal of this project.<br> For more details about this object description, refer to the URDF Link documentation : <a href="http://wiki.ros.org/urdf/XML/link">http://wiki.ros.org/urdf/XML/link</a><br><h3>Prerequisites</h3> This class needs numpy dependency to work properly. You can install it <b>using pip </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;$&nbsp;pip&nbsp;install&nbsp;numpy</div><br> <b>or with Anaconda (installed by default) </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;$&nbsp;conda&nbsp;install&nbsp;numpy</div><br> You also need URDF Library, included in this project.<br><h3>Data Structure</h3> <b>link_id </b>: int<div class="indent"> Link identifier. It&apos;s the number of the link in the URDF file.<br></div> <b>name </b>: str<div class="indent"> Link name. This field is required or an error will be thrown<br></div> <b>com </b>: 3 x 1 numpy.ndarray<div class="indent"> Center  of  mass of the link. Corresponds to the &quot;origin&quot; field of the &quot;inertial&quot; field of a link in the URDF XML format.<br> <b>SI Unit </b>: m<br> <b>Default </b>: Null 3x1 Vector : numpy.zeros((3, 1))<br></div> <b>mass </b>: float / int<div class="indent"> Link  mass  in  kilograms.  Corresponds to the &quot;mass&quot; field of the &quot;inertial&quot;  element  of  a link in the URDF XML format. It MUST be positive<br> <b>SI Unit </b>: kg<br> <b>Default </b>: 0 kg<br></div> <b>inertia </b>: 3 x 3 numpy.ndarray<div class="indent"> Inertia matrix of the link.  This matrix is symetric.  Corresponds to  the  &quot;inertia&quot;  field of the &quot;inertial&quot; field of a link in the URDF XML format.<br> <b>SI Unit </b>: kg.m^2<br> <b>Default </b>: 3x3 Identity Matrix : numpy.eye(3)<br></div> <b>parent_joints </b>: list of Joints<div class="indent"> All Joints that have the Link as parent<br></div> <b>child_joints </b>: list of Joints<div class="indent"> All Joints that have the Link as child<br></div><h3>Constructor</h3> Only one constructor is implemented. It creates a Link object from an URDF Object and a link number<br> <b>Parameters </b>:<br><div class="indent"> <b>urdfObject </b>: URDF<div class="indent"> URDF object from URDF library</div> <b>link_number </b>: int<div class="indent"> Link   Number   in  the URDF file tree. Must be fewer than the total number of links in the URDF object.<br></div></div> <b>Examples </b>:<br><div class="indent"> Example  URDF  files  are  located  in  ./Examples  where . is the directory containing createRobotFromURDF.py<br><ul><li> <b>Running example_0.urdf URDF file (with no &lt;inertial&gt; elements) </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;urdfObj&nbsp;=&nbsp;URDF(&quot;./Examples/example_0.urdf&quot;)<br> &gt;&gt;&gt;&nbsp;linkObj&nbsp;=&nbsp;Link(urdfObj,&nbsp;1)<br> &gt;&gt;&gt;&nbsp;print(linkObj)<br> Link&nbsp;Name&nbsp;:&nbsp;link2<br> Link&nbsp;Center&nbsp;of&nbsp;Mass&nbsp;(m)&nbsp;:&nbsp;<br> [[0.]<br> &nbsp;[0.]<br> &nbsp;[0.]]<br> Link&nbsp;Mass&nbsp;(kg)&nbsp;:&nbsp;0.0<br> Link&nbsp;Inertia&nbsp;Matrix&nbsp;(kg.m^2)&nbsp;:&nbsp;<br> [[1.&nbsp;0.&nbsp;0.]<br> &nbsp;[0.&nbsp;1.&nbsp;0.]<br> &nbsp;[0.&nbsp;0.&nbsp;1.]]<br> Is&nbsp;parent&nbsp;of&nbsp;joints&nbsp;number&nbsp;:&nbsp;[]<br> Is&nbsp;child&nbsp;of&nbsp;joints&nbsp;number&nbsp;:&nbsp;[0]<br> Terminal&nbsp;Link</div></li></ul><br><ul><li> <b>Running example_1.urdf URDF file (with &lt;inertial&gt; elements) </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;urdfObj&nbsp;=&nbsp;URDF(&quot;./Examples/example_1.urdf&quot;)<br> &gt;&gt;&gt;&nbsp;linkObj&nbsp;=&nbsp;Link(urdfObj,&nbsp;0)<br> &gt;&gt;&gt;&nbsp;print(linkObj)<br> Link&nbsp;Name&nbsp;:&nbsp;link1<br> Link&nbsp;Center&nbsp;of&nbsp;Mass&nbsp;(m)&nbsp;:&nbsp;<br> [[1.]<br> &nbsp;[1.]<br> &nbsp;[1.]]<br> Link&nbsp;Mass&nbsp;(kg)&nbsp;:&nbsp;10.0<br> Link&nbsp;Inertia&nbsp;Matrix&nbsp;(kg.m^2)&nbsp;:&nbsp;<br> [[1.&nbsp;2.&nbsp;3.]<br> &nbsp;[2.&nbsp;4.&nbsp;5.]<br> &nbsp;[3.&nbsp;5.&nbsp;6.]]<br> Is&nbsp;parent&nbsp;of&nbsp;joints&nbsp;number&nbsp;:&nbsp;[0,&nbsp;1]<br> Is&nbsp;child&nbsp;of&nbsp;joints&nbsp;number&nbsp;:&nbsp;[]<br> Root&nbsp;Link</div></li></ul><br></div><h3>Methods</h3><details><summary><span class="def">def</span> <span class="blue">__init__</span>(self, urdfObject, link_number)</summary><h3>Description</h3> Create a Link object from an URDF Object and a link number<br><h3>Parameters</h3> <b>urdfObject </b>: URDF<div class="indent"> URDF object from URDF library</div> <b>link_number </b>: int<div class="indent"> Link  Number  in  the URDF file tree. Must be fewer than the total number of links in the URDF object.<br></div><h3>Examples</h3> Example URDF files are located in ./Examples  where . is the directory containing createRobotFromURDF.py<br><ul><li> <b>Running example_0.urdf URDF file (with no &lt;inertial&gt; elements) </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;urdfObj&nbsp;=&nbsp;URDF(&quot;./Examples/example_0.urdf&quot;)<br> &gt;&gt;&gt;&nbsp;linkObj&nbsp;=&nbsp;Link(urdfObj,&nbsp;1)<br> &gt;&gt;&gt;&nbsp;print(linkObj)<br> Link&nbsp;Name&nbsp;:&nbsp;link2&nbsp;&quot;<a href="www.google.com">www.google.com</a>&quot;<br> Link&nbsp;Center&nbsp;of&nbsp;Mass&nbsp;(m)&nbsp;:&nbsp;<br> [[0.]<br> &nbsp;[0.]<br> &nbsp;[0.]]<br> Link&nbsp;Mass&nbsp;(kg)&nbsp;:&nbsp;0.0<br> Link&nbsp;Inertia&nbsp;Matrix&nbsp;(kg.m^2)&nbsp;:&nbsp;<br> [[1.&nbsp;0.&nbsp;0.]<br> &nbsp;[0.&nbsp;1.&nbsp;0.]<br> &nbsp;[0.&nbsp;0.&nbsp;1.]]<br> Is&nbsp;parent&nbsp;of&nbsp;joints&nbsp;number&nbsp;:&nbsp;[]<br> Is&nbsp;child&nbsp;of&nbsp;joints&nbsp;number&nbsp;:&nbsp;[0]<br> Terminal&nbsp;Link</div></li></ul><br><ul><li> <b>Running example_1.urdf URDF file (with &lt;inertial&gt; elements) </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;urdfObj&nbsp;=&nbsp;URDF(&quot;./Examples/example_1.urdf&quot;)<br> &gt;&gt;&gt;&nbsp;linkObj&nbsp;=&nbsp;Link(urdfObj,&nbsp;0)<br> &gt;&gt;&gt;&nbsp;print(linkObj)<br> Link&nbsp;Name&nbsp;:&nbsp;link1<br> Link&nbsp;Center&nbsp;of&nbsp;Mass&nbsp;(m)&nbsp;:&nbsp;<br> [[1.]<br> &nbsp;[1.]<br> &nbsp;[1.]]<br> Link&nbsp;Mass&nbsp;(kg)&nbsp;:&nbsp;10.0<br> Link&nbsp;Inertia&nbsp;Matrix&nbsp;(kg.m^2)&nbsp;:&nbsp;<br> [[1.&nbsp;2.&nbsp;3.]<br> &nbsp;[2.&nbsp;4.&nbsp;5.]<br> &nbsp;[3.&nbsp;5.&nbsp;6.]]<br> Is&nbsp;parent&nbsp;of&nbsp;joints&nbsp;number&nbsp;:&nbsp;[0,&nbsp;1]<br> Is&nbsp;child&nbsp;of&nbsp;joints&nbsp;number&nbsp;:&nbsp;[]<br> Root&nbsp;Link</div></li></ul><br></details><details><summary><span class="def">def</span> <span class="blue">__valid</span>(self)</summary><h3>Description</h3> <b>This function checks if the Link object is valid, ie if it has </b>:<div class="indent"><ul><li> A not-None name</li><li> A 3 x 1 numpy.ndarray com</li><li> A positive or null mass</li><li> A 3 x 3 symetric numpy.ndarray inertia</li></ul></div> This  function  raises  an exception if any of these statements is not true.<br><h3>Returns</h3> True if no exceptions are raised<br></details><details><summary><span class="def">def</span> <span class="blue">__str__</span>(self)</summary>No documentation found for this section</details></details><details><summary><span class="def">class</span> <span class="blue">Joint</span></summary><h3>Description</h3> Joint Class.<br> This class describes joint objects. These objects represent URDF joint elements. This class is used inside the Robot class (see below). The  joint  element describes the kinematics and dynamics of the joint and also specifies the safety limits of the joint.<br> This class  doesn&apos;t deal with &lt;calibration&gt; and &lt;dynamics&gt; elements as they are not useful in this project. &lt;safety_controller&gt;   elements  and  &lt;mimic&gt;  elements  are  also  not implemented.<br> For  more  details  about  this  object description, refer to the URDF Joint documentation : <a href="http://wiki.ros.org/urdf/XML/joint">http://wiki.ros.org/urdf/XML/joint</a><br><h3>Prerequisites</h3> This class needs numpy dependency to work properly. You can install it <b>using pip </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;$&nbsp;pip&nbsp;install&nbsp;numpy</div><br> <b>or with Anaconda (installed by default) </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;$&nbsp;conda&nbsp;install&nbsp;numpy</div><br> You also need URDF Library, included in this project.<br><h3>Data Structure</h3> <b>name </b>: str<div class="indent"> Joint name. This field is required or an error will be thrown<br></div> <b>joint_type </b>: str<div class="indent"> Specifies  the  type  of  joint,  where  type  can  be  one of the <b>following </b>:<div class="indent"><ul><li> <b>&apos;revolute&apos; </b>:<div class="indent"> A  hinge  joint  that  rotates  along  the  axis and has a limited range specified by the upper and lower limits.</div></li><li> <b>&apos;continuous&apos; </b>:<div class="indent"> A  continuous hinge joint that rotates around the axis and has no upper and lower limits.</div></li><li> <b>&apos;prismatic&apos; </b>:<div class="indent"> A  sliding  joint  that  slides  along the axis, and has a limited range specified by the upper and lower limits.</div></li><li> <b>&apos;fixed&apos; </b>:<div class="indent"> This  is  not  really a joint  because it cannot move. All degrees of freedom are locked. This type of joint does not require  the   axis,   calibration,  dynamics,  limits  or safety_controller.</div></li><li> <b>&apos;floating&apos; </b>:<div class="indent"> This joint allows motion for all 6 degrees of freedom.</div></li><li> <b>&apos;planar&apos; </b>:<div class="indent"> This  joint  allows motion in a plane perpendicular to the axis.</div></li></ul><br></div></div> <b>origin_xyz </b>: 3 x 1 numpy.ndarray<div class="indent"> Translation from the parent link to the child link<br> <b>SI Unit </b>: m<br> <b>Default </b>: Null 3x1 Vector : numpy.zeros((3, 1))<br></div> <b>origin_rpy </b>: 3 x 1 numpy.ndarray<div class="indent"> <b>Represents  the  rotation around fixed axis </b>: first roll around x, then pitch around y and finally yaw around z.<br> <b>SI Unit </b>: radians<br> <b>Default </b>: Null 3x1 Vector : numpy.zeros((3, 1))<br></div> <b>parent </b>: int<div class="indent"> Parent  link id. Corresponds to the link_id of the link which name is  the  &lt;parent&gt;  element  of the &lt;joint&gt; element in the URDF XML representation.<br></div> <b>child </b>: int<div class="indent"> Child  link id.  Corresponds to the link_id of the link which name is  the  &lt;child&gt;  element  of  the &lt;joint&gt; element in the URDF XML representation.<br></div> <b>axis </b>: 3 x 1 numpy.ndarray<div class="indent"> The  joint  axis specified in the joint frame. This is the axis of rotation  for  revolute  joints,   the  axis  of  translation  for prismatic  joints,  and  the surface normal for planar joints. The axis  is  specified  in  the  joint  frame of reference. Fixed and floating  joints  do  not  use  the  axis  field.  The  vector  is automatically normalized before being stored in the Joint object.<br> <b>SI Unit </b>: (doesn&apos;t matter)<br> <b>Default </b>: x axis vector : np.array([[1, 0, 0]]).T<br></div> <b>limit_lower </b>: float / int<div class="indent"> An  attribute  specifying  the  lower  joint  limit  (radians  for revolute  joints,  meters  for prismatic joints). Omit if joint is continuous.<br> <b>SI Unit </b>: radians for revolute joints, m for prismatic joints<br> <b>Default </b>: 0 m for prismatic joints, 0 radians for revolute joints<br></div> <b>limit_upper </b>: float / int<div class="indent"> An  attribute  specifying  the  higher joint  limit  (radians  for revolute  joints,  meters  for prismatic joints). Omit if joint is continuous.<br> <b>SI Unit </b>: radians for revolute joints, m for prismatic joints<br> <b>Default </b>: 0 m for prismatic joints, 0 radians for revolute joints<br></div> <b>limit_effort </b>: float / int<div class="indent"> The effort limit is an attribute of the limit tag. In this case, a controller  cannot  command  an  effort of more than 30 N (N-m for revolute) nor less than -30 N (N-m for revolute) on the joint.  If the controller tries to command an effort beyond the effort limit, the magnitude of the effort is truncated.<br> <b>SI Unit </b>: N for prismatic joints, N.m for revolute joints<br></div> <b>limit_velocity </b>: float / int<div class="indent"> An attribute for enforcing the maximum joint velocity.<br> <b>SI Unit </b>: m/s for prismatic joints, rad/s for revolute joints<br></div> <b>T </b>: sympy.matrices.immutable.ImmutableDenseMatrix<div class="indent"> Transition matrix of the joint<br></div> <b>Tinv </b>: sympy.matrices.immutable.ImmutableDenseMatrix<div class="indent"> Inverse of the transition matrix of the joint<br></div><h3>Constructor</h3> Only one constructor is implemented. It creates a Joint from an URDF Object and a joint number<br> <b>Parameters </b>:<br><div class="indent"> <b>urdfObject </b>: URDF<div class="indent"> URDF object from URDF library</div> <b>joint_number </b>: int<div class="indent"> Joint  Number  in  the URDF file tree.  Must be fewer than the total number of joints in the URDF object.<br></div></div> <b>Examples </b>:<br><div class="indent"> Example  URDF  files  are  located  in  ./Examples  where . is the directory containing createRobotFromURDF.py<br><ul><li> <b>Running example_0.urdf URDF file (pretty simple &lt;joint&gt;) </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;urdf_obj&nbsp;=&nbsp;URDF(&quot;./Examples/example_0.urdf&quot;)<br> &gt;&gt;&gt;&nbsp;joint_obj&nbsp;=&nbsp;Joint(urdf_obj,&nbsp;0)<br> &gt;&gt;&gt;&nbsp;print(joint_obj)<br> Joint&nbsp;Name&nbsp;:&nbsp;joint1<br> Joint&nbsp;Type&nbsp;:&nbsp;continuous<br> Joint&nbsp;origin&nbsp;XYZ&nbsp;(m):<br> [[0.]<br> &nbsp;[0.]<br> &nbsp;[0.]]<br> Joint&nbsp;origin&nbsp;RPY&nbsp;(rad)&nbsp;:<br> [[0.]<br> &nbsp;[0.]<br> &nbsp;[0.]]<br> Parent&nbsp;Link&nbsp;ID&nbsp;:&nbsp;0<br> Child&nbsp;Link&nbsp;ID&nbsp;:&nbsp;1<br> Joint&nbsp;Axis&nbsp;:<br> [[1]<br> &nbsp;[0]<br> &nbsp;[0]]<br> Joint&nbsp;Limits&nbsp;:<br> 	Lower&nbsp;:&nbsp;None<br> 	Upper&nbsp;:&nbsp;None<br> 	Effort&nbsp;:&nbsp;None<br> 	Velocity&nbsp;:&nbsp;None</div></li></ul><br><ul><li> <b>Running example_1.urdf URDF file (more complex &lt;joint&gt;) </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;urdf_obj&nbsp;=&nbsp;URDF(&quot;./Examples/example_1.urdf&quot;)<br> &gt;&gt;&gt;&nbsp;joint_obj&nbsp;=&nbsp;Joint(urdf_obj,&nbsp;0)<br> &gt;&gt;&gt;&nbsp;print(joint_obj)<br> Joint&nbsp;Name&nbsp;:&nbsp;joint1<br> Joint&nbsp;Type&nbsp;:&nbsp;prismatic<br> Joint&nbsp;origin&nbsp;XYZ&nbsp;(m):<br> [[0.]<br> &nbsp;[0.]<br> &nbsp;[1.]]<br> Joint&nbsp;origin&nbsp;RPY&nbsp;(rad)&nbsp;:<br> [[0.&nbsp;&nbsp;&nbsp;&nbsp;]<br> &nbsp;[0.&nbsp;&nbsp;&nbsp;&nbsp;]<br> &nbsp;[3.1416]]<br> Parent&nbsp;Link&nbsp;ID&nbsp;:&nbsp;0<br> Child&nbsp;Link&nbsp;ID&nbsp;:&nbsp;1<br> Joint&nbsp;Axis&nbsp;:<br> [[0.]<br> &nbsp;[1.]<br> &nbsp;[0.]]<br> Joint&nbsp;Limits&nbsp;:<br> 	Lower&nbsp;:&nbsp;-2.2<br> 	Upper&nbsp;:&nbsp;0.7<br> 	Effort&nbsp;:&nbsp;30.0<br> 	Velocity&nbsp;:&nbsp;1.0</div></li></ul></div><h3>Methods</h3><details><summary><span class="def">def</span> <span class="blue">__init__</span>(self, urdfObject, joint_number)</summary><h3>Description</h3> Only one constructor is implemented. It creates a Joint from an URDF Object and a joint number<br><h3>Parameters</h3> <b>urdfObject </b>: URDF<div class="indent"> URDF object from URDF library</div> <b>joint_number </b>: int<div class="indent"> Joint  Number  in the URDF file tree. Must be fewer than the total number of joints in the URDF object.<br></div><h3>Examples</h3> Example URDF files are located in ./Examples  where . is the directory directory containing createRobotFromURDF.py<br><ul><li> <b>Running example_0.urdf URDF file (with no &lt;inertial&gt; elements) </b>:</li></ul><br> TODO<br><ul><li> <b>Running example_1.urdf URDF file (with &lt;inertial&gt; elements) </b>:</li></ul><br> TODO</details><details><summary><span class="def">def</span> <span class="blue">__T</span>(self, consider_limits=False, tolerance=1e-10)</summary><h3>Description</h3> Returns  the  transformation  matrix from the parent link to the child link in homogeneous coordinates. This matrix is computed symbolically<br> <b>The degrees of freedom names are formatted like this </b>:<div class="indent"> prefix_name<br> <b>where name is the joint name (self.joint_name) and prefix is </b>:<div class="indent"><ul><li> &apos;d&apos; for 1 DOF translation</li><li> &apos;dx&apos; / &apos;dy&apos; for 2 DOF translations</li><li> &apos;dx&apos; / &apos;dy&apos; / &apos;dz&apos; for 3 DOF translations</li><li> &apos;theta&apos; for 1 DOF rotations</li><li> &apos;roll&apos; / &apos;pitch&apos; / &apos;yaw&apos; for 3 DOF rotations</li></ul><br></div></div><h3>Parameters</h3> <b>consider_limits </b>: bool<div class="indent"> If  True,  the  transition matrices ensure it&apos;s not possible to go beyond  self.limit_lower and self.limit_upper. This results adding max  and  min  functions in the transition matrix. For example, if the  degree  of  freedom is d and consider_limits is True, every d <b>value will become </b>:<div class="indent"> min(max(d, self.limit_lower), self.limit_upper)</div> (if the limits are not None).<br> This can cause derivation  problems so you can disable this option turning consider_limits to  False.  Note that some types of joints NEED limits  (revolute & prismatic)  and  some  just  ignore them.<br> Be  careful  with  this option, as the default limit values are 0. So,  if  your  URDF  file doesn&apos;t specify limits, this option will allow  the  DOF  to  move  between 0 and 0. This will consequently &quot;remove&quot; the degree of freedom from the transition matrix.<br> Defaults to False<br></div> <b>tolerance </b>: float<div class="indent"> Tolerance for simplification of the expression.<br> Defaluts to 1e-10<br></div><h3>Returns</h3> numpy.ndarray<div class="indent"> Transformation  matrix  from  the parent link to the child link in homogeneous coordinates. The shape is (4, 4)<br></div><h3>Nested Functions</h3><details><summary><span class="def">def</span> <span class="blue">rodrigues</span>(axis, angle)</summary><h3>Description</h3> Computes the  Rogrigues rotation matrix from a rotation around the axis &apos;axis&apos; with the rotation &apos;angle&apos; <a href="https://en.wikipedia.org/wiki/Rodrigues%27_rotation_formula">https://en.wikipedia.org/wiki/Rodrigues%27_rotation_formula</a><br><h3>Parameters</h3> <b>axis </b>: numpy.ndarray<div class="indent"> Axis around the one the rotation is made. Has to be normalized and shape = (3, 1)<br></div> <b>angle </b>: sympy.core.symbol.Symbol<div class="indent"> Symbol for angle rotation (in radians)<br></div><h3>Returns</h3> sympy.matrices.dense.MutableDenseMatrix<div class="indent"> Rotation matrix of the angle &apos;angle&apos; around the axis &apos;axis&apos;. Shape is 3x3<br></div></details></details><details><summary><span class="def">def</span> <span class="blue">__valid</span>(self)</summary><h3>Description</h3> <b>This function checks if the Joint object is valid, ie if it has </b>:<div class="indent"><ul><li> A str name</li><li> A valid joint_type str</li><li> A 3 x 1 numpy.ndarray origin_xyz</li><li> A 3 x 1 numpy.ndarray origin_rpy</li><li> A list of valid parent links</li><li> A list of valid child links</li><li> A 3 x 1 numpy.ndarray axis</li><li> A float / int limit_lower</li><li> A float / int limit_upper</li><li> A float / int limit_effort</li><li> A float / int limit_velocity</li></ul></div> This  function  raises  an exception if any of these statements is not true.<br><h3>Returns</h3> True if no exceptions are raised<br></details><details><summary><span class="def">def</span> <span class="blue">__str__</span>(self)</summary><h3>Description</h3> Converts the Joint object to str object<br><h3>Returns</h3> <b>jointstr </b>: str<div class="indent"> Converted joint to string<br></div></details></details><details><summary><span class="def">class</span> <span class="blue">Robot</span></summary><h3>Description</h3> Robot Class. Represents the tree representation of an URDF Robot. A robot is composed of joints and links<br><h3>Prerequisites</h3> This class needs numpy dependency to work properly. You can install it <b>using pip </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;$&nbsp;pip&nbsp;install&nbsp;numpy</div><br> <b>or with Anaconda (installed by default) </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;$&nbsp;conda&nbsp;install&nbsp;numpy</div><br> <b>To deal with tree representation, you also need to install anytree </b>:<br><div class="code"> &gt;&gt;&gt;&nbsp;$&nbsp;pip&nbsp;install&nbsp;anytree</div><br> You finally need URDF Library, included in this project.<br><h3>Data Structure</h3> <b>name </b>: str<div class="indent"> Robot Name. If the robot has no name, it will be named &quot;no_name&quot;<br></div> <b>links </b>: List of &apos;Link&apos;<div class="indent"> List containing all the Links of the Robot.<br></div> <b>joints </b>: List of &apos;Joint&apos;<div class="indent"> List containing all the Joints of the Robot.<br></div> <b>tree </b>: anytree.render.RenderTree<div class="indent"> Tree  representation of the Robot. Tree nodes names are formatted like <b>this </b>:<div class="indent"><ul><li> For Links<div class="indent"> link_k</div></li><li> For Joints<div class="indent"> joint_k</div> where k is the number of the Link/Joint in the list links/joints</li></ul><br></div></div><h3>Methods</h3><details><summary><span class="def">def</span> <span class="blue">__init__</span>(self, urdfObject, progressbar=None)</summary><h3>Description</h3> Robot Constructor. You can construct a robot from an URDF Object.<br><h3>Parameters</h3> <b>urdfObject </b>: URDF<div class="indent"> URDF Object from the URDF library<br></div> <b>progressbar </b>: PyQt5.QtWidgets.QProgressBar or None, optional<div class="indent"><div class="indent"><div class="indent"> default is None</div></div> Progressbar to update during the robot creation (used in GUI) If it is None, no progressbar is updated<br></div><h3>Examples</h3> TODO !!!!!!!<br></details><details><summary><span class="def">def</span> <span class="blue">nlinks</span>(self)</summary><h3>Description</h3> Returns the number of links of the Robot<br><h3>Returns</h3> <b>int </b>: Number of links of the Robot<br><h3>Examples</h3> TODO<br></details><details><summary><span class="def">def</span> <span class="blue">njoints</span>(self)</summary><h3>Description</h3> Returns the number of joints of the Robot<br><h3>Returns</h3> <b>int </b>: Number of joints of the robot<br><h3>Examples</h3> TODO<br></details><details><summary><span class="def">def</span> <span class="blue">branch</span>(self, origin, destination)</summary><h3>Description</h3> Returns  the  path  in  the  tree  to go from the &apos;origin&apos; node to the &apos;destination&apos; node.<br> <b>The result is returned as two lists </b>:<div class="indent"><ul><li> upwards is a list of joint numbers to go upward to</li><li> downwards is a list of joint numbers to go downward to</li></ul><br></div> Every element of the list is the index of a joint from self.joints<br> This  function  uses anytree Walker class, for more details, check the <b>anytree documentation </b>: <a href="https://anytree.readthedocs.io/en/latest/api/anytree.walker.html">https://anytree.readthedocs.io/en/latest/api/anytree.walker.html</a><br><h3>Parameters</h3> <b>origin </b>: str<div class="indent"> Origin  element  of the tree. Is a string formatted like the nodes <b>names of self.tree </b>:<div class="indent"> type_number<br> where type is &apos;joint&apos; / &apos;link&apos; and number is the number of the considered Joint / Link in self.joints / self.links.<br> <b>Example </b>: origin=&apos;joint_2&apos;</div></div> <b>destination </b>: str<div class="indent"> Destination  element  of  the tree. Is a string formatted like the <b>node names of self.tree </b>:<div class="indent"> type_number<br> where type is &apos;joint&apos; / &apos;link&apos; and number is the number of the considered Joint / Link in self.joints / self.links.<br> <b>Example </b>: destination=&apos;link_0&apos;<br></div></div><h3>Returns</h3> <b>upwards </b>: list of int<div class="indent"> List of  Joint index to go upward to. The transition matrix of the Joints is T()**(-1) to go from a Joint to the next in this list.</div> <b>downwards </b>: list of int<div class="indent"> List  Joint index to go downward  to. The transition matrix of the Joints is T() to go from a Joint to the next in this list<br></div><h3>Examples</h3> TODO<br></details><details><summary><span class="def">def</span> <span class="blue">forward_kinematics</span>(self, origin, destination)</summary><h3>Description</h3> Computes  the  forward kinematics between the &apos;origin&apos; Joint / Link to the &apos;destination&apos; Joint / Link.<br> The result is returned as a Sympy Matrix in homogeneous coordinates.<br><h3>Parameters</h3> <b>origin </b>: str<div class="indent"> Origin  element  of the tree. Is a string formatted like the nodes <b>names of self.tree </b>:<div class="indent"> type_number<br> where type is &apos;joint&apos; / &apos;link&apos; and number is the number of the considered Joint / Link in self.joints / self.links.<br> <b>Example </b>: origin=&apos;joint_2&apos;</div></div> <b>destination </b>: str<div class="indent"> Destination  element  of  the tree. Is a string formatted like the <b>node names of self.tree </b>:<div class="indent"> type_number<br> where type is &apos;joint&apos; / &apos;link&apos; and number is the number of the considered Joint / Link in self.joints / self.links.<br> <b>Example </b>: destination=&apos;link_0&apos;<br></div></div><h3>Returns</h3> <b>T </b>: sympy.matrices.dense.MutableDenseMatrix<div class="indent"> Forward kinematics from origin to destination in homogeneous coordinates.<br> The shape of the matrix is (4x4)</div></details><details><summary><span class="def">def</span> <span class="blue">jacobian_3xN</span>(self, origin, destination)</summary><h3>Description</h3> Returns the Cartesian Jacobian between the origin and the destination.<br> <b>The Jacobian is given by the formula </b>:<br><div class="indent"><div class="indent"> /                             \ | dx/dDOF_0    ...    dx/dDOF_n |</div> Jx = | dy/dDOF_0    ...    dy/dDOF_n |<div class="indent"> | dz/dDOF_0    ...    dz/dDOF_n | \                             /<br></div></div> where  dx,  dy  and  dz  are  the  differentiation  of  the  cartesian coordinates of the destination frame in the origin frame,<br> dDOF_k is the differentiation of the kth degree of freedom encountered in the kineatics chain from origin to destination in alphabetic order,<br> n  is  the  total  number of DOF in the kinematic chain from origin to destination,<br> Jx is a 3xN matrix representing the Jacobian.<br> This  can  be  seen  as  the  Jacobian  of the position of the forward kinematics from origin to destination  (it&apos;s the ways it&apos;s computed).<br><br><h3>Parameters</h3> <b>origin </b>: str<div class="indent"> Origin  element  of the tree. Is a string formatted like the nodes <b>names of self.tree </b>:<div class="indent"> type_number<br> where type is &apos;joint&apos; / &apos;link&apos; and number is the number of the considered Joint / Link in self.joints / self.links.<br> <b>Example </b>: origin=&apos;joint_2&apos;</div></div> <b>destination </b>: str<div class="indent"> Destination  element  of  the tree. Is a string formatted like the <b>node names of self.tree </b>:<div class="indent"> type_number<br> where type is &apos;joint&apos; / &apos;link&apos; and number is the number of the considered Joint / Link in self.joints / self.links.<br> <b>Example </b>: destination=&apos;link_0&apos;<br></div></div><h3>Returns</h3> <b>Jx </b>: sympy.matrices.dense.MutableDenseMatrix<div class="indent"> Jacobian matrix between origin and destination<br></div> <b>list_symbols </b>: list of sympy.core.symbol.Symbol<div class="indent"> List of all the derivatives variables (DOF_k) (alphabetic order) The kth element of this list is the DOF_k of the Jacobian<br></div></details><details><summary><span class="def">def</span> <span class="blue">__str__</span>(self)</summary><h3>Description</h3> Converts the Robot object to a string The  string  is the tree representaiton which nodes are link and joint names. For  more  details  on  how  this  is  done,  check  out  the  anytree documentation : <a href="https://anytree.readthedocs.io/en/latest/">https://anytree.readthedocs.io/en/latest/</a><br><h3>Returns</h3> String tree representation of the robot<br></details></details></div></body></html>